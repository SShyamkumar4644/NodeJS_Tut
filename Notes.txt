1. First step is about create index.js file

2. Then type console.log("hello world")

3. And to execute the file, in terminal type node index.js

4. Check Node version node --version and npm --version, npm is for package installations
purposes similar like pip install in python

5. We created index.js file, we want to create a simple project and want to
initialise as node project for that in terminal type npm init

6. You will get to enter values, type enter till end or add name if you want

7. After that you will get package.json file

8. You can install express package, npm install express, and it will go to dependencies\
section in package.json file

9. After express is installed you will get node_modules folders which is large files
you can delete also for example, and if you want to reinstall you can npm install
and node_modules will be reinstalled. node_modules folders are downloaded from internet
which can be used in your project.

10. You can install nodemon, which will help to run the server when edited the file
on the go. Add script tag "start": "nodemon index.js"

{
  "name": "harry",
  "version": "1.0.0",
  "description": "Amazing package",
  "main": "index.js",
  "scripts": {
    "start": "nodemon index.js",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "Harry",
  "license": "ISC",
  "dependencies": {
    "express": "^4.18.1",
    "nodemon": "^2.0.20"
  }
}

And to execute the file type npm run start and you will get output

11. You can delete packages npm uninstall package_name

12. Install npm install @angular/cli

13. Package.Json file will have packages list installed for the project

14. package.json vs package-lock.json

15. Now you have only index.js file, you want to create another second.js file and
access from index.js file by imprt export methods

//index.js
const harry = require("./second");

console.log("Hello world", harry)

//second.js
harry = {
    name:"harry",
    favNum: 36,
    developer: true
}

module.exports = harry;

// you will get output when you executeby npm run start
[nodemon] clean exit - waiting for changes before restart
[nodemon] restarting due to changes...
[nodemon] starting `node index.js`
[nodemon] restarting due to changes...
Hello world { name: 'harry', favNum: 36, developer: true }
[nodemon] starting `node index.js`
Hello world { name: 'harry', favNum: 36, developer: true }
[nodemon] clean exit - waiting for changes before restart


16. Module wrapper functions

//Wrap like this
(function(exports, require, module, __filename, __dirname){
    harry = {
        name:"harry",
        favNum: 36,
        developer: true
    }
    module.exports = harry;

})

//To check what is these terms 
// (function(exports, require, module, __filename, __dirname){

    harry = {
        name:"harry",
        favNum: 36,
        developer: true
    }

    console.log(exports, require, module, __filename, __dirname)
    
    module.exports = harry;

// })
npm run start you will get below output
PS E:\NodeJS_Tutorials_CWH> npm run start
npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

> harry@1.0.0 start
> nodemon index.js

[nodemon] 2.0.20
[nodemon] to restart at any time, enter `rs`
[nodemon] watching path(s): *.*
[nodemon] watching extensions: js,mjs,json
[nodemon] starting `node index.js`
{} [Function: require] {
  resolve: [Function: resolve] { paths: [Function: paths] },
  main: Module {
    id: '.',
    path: 'E:\\NodeJS_Tutorials_CWH',
    exports: {},
    filename: 'E:\\NodeJS_Tutorials_CWH\\index.js',
    loaded: false,
    children: [ [Module] ],
    paths: [ 'E:\\NodeJS_Tutorials_CWH\\node_modules', 'E:\\node_modules' ]   
  },
  extensions: [Object: null prototype] {
    '.js': [Function (anonymous)],
    '.json': [Function (anonymous)],
    '.node': [Function (anonymous)]
  },
  cache: [Object: null prototype] {
    'E:\\NodeJS_Tutorials_CWH\\index.js': Module {
      id: '.',
      path: 'E:\\NodeJS_Tutorials_CWH',
      exports: {},
      filename: 'E:\\NodeJS_Tutorials_CWH\\index.js',
      loaded: false,
      children: [Array],
      paths: [Array]
    },
    'E:\\NodeJS_Tutorials_CWH\\second.js': Module {
      id: 'E:\\NodeJS_Tutorials_CWH\\second.js',
      path: 'E:\\NodeJS_Tutorials_CWH',
      exports: {},
      filename: 'E:\\NodeJS_Tutorials_CWH\\second.js',
      loaded: false,
      children: [],
      paths: [Array]
    }
  }
} Module {
  id: 'E:\\NodeJS_Tutorials_CWH\\second.js',
  path: 'E:\\NodeJS_Tutorials_CWH',
  exports: {},
  filename: 'E:\\NodeJS_Tutorials_CWH\\second.js',
  loaded: false,
  children: [],
  paths: [ 'E:\\NodeJS_Tutorials_CWH\\node_modules', 'E:\\node_modules' ]     
} E:\NodeJS_Tutorials_CWH\second.js E:\NodeJS_Tutorials_CWH
Hello world { name: 'harry', favNum: 36, developer: true }
[nodemon] clean exit - waiting for changes before restart

17. Go to Nodejs docs in google we will see, what is osmodules

18. Create a file osmodules.js and type const os = require('os');
os is built in module so you can type the above line of code

19. Now you can use any os methods lets say console.log(os.freemem())
an check the output you will get 
PS E:\NodeJS_Tutorials_CWH> node osmodules.js
1433235456

20. Another method console.log(os.homedir())
Output for that will show your current directory
PS E:\NodeJS_Tutorials_CWH> node osmodules.js
1305972736
C:\Users\hp

const os = require('os');

console.log(os.freemem())

console.log(os.homedir())

console.log(os.hostname())

console.log(os.platform())

console.log(os.release()) // version

console.log(os.type()) type of windows

//Output
PS E:\NodeJS_Tutorials_CWH> node osmodules.js
894353408
C:\Users\hp
LAPTOP-I5AJ3H5N
win32
10.0.19044
Windows_NT

21. Next is path module, create pathmodule.js file
//In pathmodule.js file
const path = require('path');

const a = path.basename("C:\\temp\\myfile.html");
console.log(a);

//execute 
PS E:\NodeJS_Tutorials_CWH> node pathmodule.js
myfile.html

//In pathmodule.js
const path = require('path');

const a1 = path.basename("C:\\temp\\myfile.html");
const a2 = path.dirname("C:\\temp\\myfile.html");
console.log(a1, a2);

//Output
PS E:\NodeJS_Tutorials_CWH> node pathmodule.js
myfile.html C:\temp

//In pathmodule.js
const path = require('path');

const a1 = path.basename("C:\\temp\\myfile.html"); filename
const a2 = path.dirname("C:\\temp\\myfile.html"); //current directory
const a3 = path.extname(__filename); //extension of the file name
console.log(a1, a2, a3);

//Output
PS E:\NodeJS_Tutorials_CWH> node pathmodule.js
myfile.html C:\temp .js

22. Next is File modules
Refer the docs: https://nodejs.org/api/fs.html

Create file.txt file and 
//In fsmodules.txt
const fs = require('fs');

fs.readFile('file.txt', 'utf8', (err, data) =>{
    console.log(err, data)
})

//Output
PS E:\NodeJS_Tutorials_CWH> node fsmodule.js
null This is a file

//NOTICE HERE
const fs = require('fs');

fs.readFile('file.txt', 'utf8', (err, data) =>{
    console.log(err, data)
})
 
console.log("Finished reading file")

//BUT YOU get Finished reading file PRINTED First, WHY?
//CAUSE READING THE FILE MIGHT TAKE TIME, SO Finished reading file IS PRINTED
//TILL THEN YOU PRINT YOURSELF, DON'T DELAY YOURSELF
PS E:\NodeJS_Tutorials_CWH> node fsmodule.js
Finished reading file
null This is a file

//IF YOU WANT FILE CONTENT TO BE PRINTED FIRST THEN PUT LIKE This
//fsmodule.js
const fs = require('fs');

// fs.readFile('file.txt', 'utf8', (err, data) =>{
//     console.log(err, data)
// })

const a = fs.readFileSync('file.txt')
console.log(a.toString())

console.log("Finished reading file")

//Output
PS E:\NodeJS_Tutorials_CWH> node fsmodule.js
This is a file
Finished reading file

//TILL HERE WAS READ FILE, NEXT WE WILL SEE WRITE FILE

//fsmodule.txt
const fs = require('fs');

// fs.readFile('file.txt', 'utf8', (err, data) =>{
//     console.log(err, data)
// })

// const a = fs.readFileSync('file.txt')
// console.log(a.toString())

fs.writeFile('file2.txt', 'This is a data', () =>{
    console.log('Written to the file')
});

console.log("Finished reading file")

//Output
PS E:\NodeJS_Tutorials_CWH> node fsmodule.js
Finished reading file
Written to the file

//STUDY CALLBACKS, PROMISES IN JAVASCRIPT TOPICS

NEXT
//writefileSync
const fs = require('fs');

// fs.readFile('file.txt', 'utf8', (err, data) =>{
//     console.log(err, data)
// })

// const a = fs.readFileSync('file.txt')
// console.log(a.toString())

// fs.writeFile('file2.txt', 'This is a data', () =>{
//     console.log('Written to the file')
// });

b = fs.writeFileSync('file2.txt', 'This is a data2')
console.log(b)

//Output
PS E:\NodeJS_Tutorials_CWH> node fsmodule.js
undefined
Finished reading file

console.log("Finished reading file")

//NEXT TOPIC COMMON JS MODULES
//CREATE 2 FILES modulefirst.js and modulesecond.js
//modulefirst.js
const simple = require("./modulesecond")

simple()

//modulesecond.js
function simple(){
    console.log("SIMPLE")
}

module.exports = simple;

//Output
PS E:\NodeJS_Tutorials_CWH> node modulefirst.js
SIMPLE

//MJS extension ES6 VERSIONS
NOW RENAME MODULESECOND.JS TO MODULESECOND.MJS

//now modulesecond.mjs file
export function simple(){
    console.log("SIMPLE IS COMPLEX")
}

// module.exports = simple;

//modulefirst.js
// const simple = require("./modulesecond")
import {simple} from "./modulesecond.mjs"

simple()

//Output
PS E:\NodeJS_Tutorials_CWH> node modulefirst.js
(node:13848) Warning: To load an ES module, set "type": "module" in the package.json or use the .mjs extension.
(Use `node --trace-warnings ...` to show where the warning was created)       
E:\NodeJS_Tutorials_CWH\modulefirst.js:2
import simple from "./modulesecond"
^^^^^^

SyntaxError: Cannot use import statement outside a module
    at Object.compileFunction (node:vm:352:18)
    at wrapSafe (node:internal/modules/cjs/loader:1033:15)
    at Module._compile (node:internal/modules/cjs/loader:1069:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1159:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)        
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:77:12)
    at node:internal/main/run_main_module:17:47
PS E:\NodeJS_Tutorials_CWH>
//YOU WILL GET ERROR LIKE THE ABOVE FOR THAT GO TO PACKAGE.JSON FILE, AND Add
"type": "module", below author section
//Package.json
{
  "name": "harry",
  "version": "1.0.0",
  "description": "Amazing package",
  "main": "index.js",
  "scripts": {
    "start": "nodemon index.js",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "Harry",
  "type": "module",
  "license": "ISC",
  "dependencies": {
    "@angular/cli": "^14.2.3",
    "express": "^4.18.1",
    "nodemon": "^2.0.20"
  }
}

//AFTER THIS YOUR OUTPUT WILL BE 
PS E:\NodeJS_Tutorials_CWH> node modulefirst.js
SIMPLE IS COMPLEX

//YOU CAN CREATE 2 FUNCTIONS AS CALL BY THE SAME name
//modulefirst.JS
// const simple = require("./modulesecond")
import {simple2 as simple} from "./modulesecond.mjs"

simple()

//modulesecond.mjs
export function simple(){
    console.log("SIMPLE IS COMPLEX")
}

export function simple2(){
    console.log("SIMPLE2 IS COMPLEX")
}

// module.exports = simple;

//OUTPUT
PS E:\NodeJS_Tutorials_CWH> node modulefirst.js
SIMPLE2 IS COMPLEX

//BUT 
//modulefirst.JS
// const simple = require("./modulesecond")
// import {simple2 as simple} from "./modulesecond.mjs"
import simple2 from "./modulesecond.mjs"

simple2()

//modulesecond.mjs
export function simple(){
    console.log("SIMPLE IS COMPLEX")
}

export function simple2(){
    console.log("SIMPLE2 IS COMPLEX")
}


// module.exports = simple;

//YOU WILL GET ERROR
PS E:\NodeJS_Tutorials_CWH> node modulefirst.js
file:///E:/NodeJS_Tutorials_CWH/modulefirst.js:3
import simple2 from "./modulesecond.mjs"
       ^^^^^^^
SyntaxError: The requested module './modulesecond.mjs' does not provide an export named 'default'
    at ModuleJob._instantiate (node:internal/modules/esm/module_job:128:21)    
    at async ModuleJob.run (node:internal/modules/esm/module_job:194:5)        
    at async Promise.all (index 0)
    at async ESMLoader.import (node:internal/modules/esm/loader:385:24)        
    at async loadESM (node:internal/process/esm_loader:88:5)
    at async handleMainPromise (node:internal/modules/run_main:61:12)
PS E:\NodeJS_Tutorials_CWH>

//FOR THAT IN MODULESECOND.MJS
export function simple(){
    console.log("SIMPLE IS COMPLEX")
}

// export function simple2(){
//     console.log("SIMPLE2 IS COMPLEX")
// }

export default function simple2(){
    console.log("SIMPLE2 IS COMPLEX")
}


// module.exports = simple;

//OUTPUT
PS E:\NodeJS_Tutorials_CWH> node modulefirst.js
SIMPLE2 IS COMPLEX

//NOW
//modulefirst.JS
// const simple = require("./modulesecond")
// import {simple2 as simple} from "./modulesecond.mjs"
// import simple2 from "./modulesecond.mjs"
// import {simple, simple2} from "./modulesecond.mjs"

// simple2()

import * as a2 from "./modulesecond.mjs"

// simple2()
console.log(a2)

//MODULESECOND.MJS
export function simple(){
    console.log("SIMPLE IS COMPLEX")
}

// export function simple2(){
//     console.log("SIMPLE2 IS COMPLEX")
// }

export default function simple2(){
    console.log("SIMPLE2 IS COMPLEX")
}


// module.exports = simple;

//OUTPUT OF a2
PS E:\NodeJS_Tutorials_CWH> node modulefirst.js
[Module: null prototype] {
  default: [Function: simple2],
  simple: [Function: simple]
}

//NOW IF YOU WANT TO RETURN THE values
//modulefirst.JS
// const simple = require("./modulesecond")
// import {simple2 as simple} from "./modulesecond.mjs"
// import simple2 from "./modulesecond.mjs"
// import {simple, simple2} from "./modulesecond.mjs"

// simple2()

import * as a2 from "./modulesecond.mjs"

// simple2()
console.log(a2.simple())

//MODULESECOND.MJS
export function simple(){
    console.log("SIMPLE IS COMPLEX")
    return 45;
}

// export function simple2(){
//     console.log("SIMPLE2 IS COMPLEX")
// }

export default function simple2(){
    console.log("SIMPLE2 IS COMPLEX")
}


// module.exports = simple;

//OUTPUT
//BEFORE RETURN Function
PS E:\NodeJS_Tutorials_CWH> node modulefirst.js
SIMPLE IS COMPLEX
undefined

//AFTER RETURN Function
PS E:\NodeJS_Tutorials_CWH> node modulefirst.js
SIMPLE IS COMPLEX
45

//URL MODULES


1 hr done






